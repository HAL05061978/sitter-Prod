"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{7486:function(e,t,s){s.r(t),s.d(t,{default:function(){return r}});var a=s(7437),l=s(2265);function r(e){let{location:t,providerName:r="Care Provider",height:n="400px",showAccuracy:c=!0,zoomLevel:i=15}=e,[d,o]=(0,l.useState)(null),[x,m]=(0,l.useState)(null);if((0,l.useEffect)(()=>{Promise.all([Promise.all([s.e(212),s.e(305)]).then(s.bind(s,9305)),s.e(212).then(s.t.bind(s,759,23)),Promise.all([s.e(641),s.e(46)]).then(s.t.bind(s,5046,23))]).then(e=>{let[t,s]=e;delete s.Icon.Default.prototype._getIconUrl,s.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"}),o(t),m(s)})},[]),!d)return(0,a.jsx)("div",{style:{height:n},className:"bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Loading map..."})});if(!t)return(0,a.jsx)("div",{style:{height:n},className:"bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,a.jsx)("p",{className:"mt-2 text-gray-500",children:"No location data available"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Waiting for location updates..."})]})});let u=[t.latitude,t.longitude],h=new Date(t.timestamp).toLocaleTimeString(),{MapContainer:p,TileLayer:g,Marker:j,Popup:f}=d;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(p,{center:u,zoom:i,style:{height:n,width:"100%"},className:"rounded-lg z-0",children:[(0,a.jsx)(g,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,a.jsx)(j,{position:u,children:(0,a.jsx)(f,{children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-semibold",children:r}),(0,a.jsxs)("p",{className:"text-gray-600 text-xs mt-1",children:["Last updated: ",h]}),c&&t.accuracy&&(0,a.jsxs)("p",{className:"text-gray-500 text-xs",children:["Accuracy: \xb1",Math.round(t.accuracy),"m"]})]})})})]},"".concat(t.latitude,"-").concat(t.longitude)),(0,a.jsxs)("div",{className:"absolute top-4 left-4 bg-white rounded-lg shadow-lg px-4 py-2 z-10",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Live Tracking"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:h})]})]}),c&&t.accuracy&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Accuracy: \xb1",Math.round(t.accuracy),"m"]})]}),t.speed&&t.speed>0&&(0,a.jsxs)("div",{className:"absolute bottom-4 right-4 bg-white rounded-lg shadow-lg px-3 py-2 z-10",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Speed"}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[(3.6*t.speed).toFixed(1)," km/h"]})]})]})}}}]);