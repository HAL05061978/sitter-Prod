(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{7472:function(e,s,t){Promise.resolve().then(t.bind(t,1746))},1746:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var n=t(7437),a=t(2265),r=t(9376),i=t(3519),l=t(3521),d=t(4954),o=t(6689);function c(e){let{onClose:s}=e,[t,r]=(0,a.useState)({pushEnabled:!0,badgeEnabled:!0,soundEnabled:!0,messagesEnabled:!0,careRequestsEnabled:!0,remindersEnabled:!0}),[i,l]=(0,a.useState)("prompt"),[c,x]=(0,a.useState)(!1),[u,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{r(d.h.getSettings()),x(o.dV.isNativePlatform()),h()},[]);let h=async()=>{o.dV.isNativePlatform()&&l(await d.h.checkPermissions())},b=async()=>{g(!0);try{await d.h.requestPermissions()?(l("granted"),f("pushEnabled",!0)):l("denied")}catch(e){console.error("Error enabling notifications:",e)}finally{g(!1)}},f=(e,s)=>{let n={...t,[e]:s};r(n),d.h.saveSettings(n)};return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Notification Settings"}),s&&(0,n.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&(0,n.jsxs)("div",{className:"mb-6 p-4 rounded-lg bg-gray-50",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium text-gray-900",children:"Push Notifications"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"granted"===i?"Notifications are enabled":"denied"===i?"Notifications are blocked":"Enable to receive notifications"})]}),"granted"===i?(0,n.jsx)("span",{className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded-full",children:"Enabled"}):"denied"===i?(0,n.jsx)("span",{className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-full",children:"Blocked"}):(0,n.jsx)("button",{onClick:b,disabled:u,className:"px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?"Enabling...":"Enable"})]}),"denied"===i&&(0,n.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"To enable notifications, go to your device Settings > SitterApp > Notifications"})]}),!c&&(0,n.jsx)("div",{className:"mb-6 p-4 rounded-lg bg-yellow-50 border border-yellow-200",children:(0,n.jsx)("p",{className:"text-sm text-yellow-700",children:"Push notifications are only available in the mobile app."})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"font-medium text-gray-900 border-b pb-2",children:"App Badge"}),(0,n.jsx)(m,{label:"Show badge on app icon",description:"Display unread count on the app icon",enabled:t.badgeEnabled,onChange:e=>f("badgeEnabled",e)})]}),(0,n.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,n.jsx)("h3",{className:"font-medium text-gray-900 border-b pb-2",children:"Sound"}),(0,n.jsx)(m,{label:"Notification sounds",description:"Play a sound for new notifications",enabled:t.soundEnabled,onChange:e=>f("soundEnabled",e)})]}),(0,n.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,n.jsx)("h3",{className:"font-medium text-gray-900 border-b pb-2",children:"Notification Types"}),(0,n.jsx)(m,{label:"Messages",description:"New messages from other parents",enabled:t.messagesEnabled,onChange:e=>f("messagesEnabled",e)}),(0,n.jsx)(m,{label:"Care Requests",description:"New care requests and responses",enabled:t.careRequestsEnabled,onChange:e=>f("careRequestsEnabled",e)}),(0,n.jsx)(m,{label:"Reminders",description:"Upcoming events and scheduled care",enabled:t.remindersEnabled,onChange:e=>f("remindersEnabled",e)})]})]})}function m(e){let{label:s,description:t,enabled:a,onChange:r}=e;return(0,n.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900",children:s}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:t})]}),(0,n.jsx)("button",{onClick:()=>r(!a),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ".concat(a?"bg-indigo-600":"bg-gray-200"),children:(0,n.jsx)("span",{className:"inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat(a?"translate-x-5":"translate-x-0")})})]})}var x=t(5703);function u(){let e=(0,r.useRouter)(),[s,t]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{i.O.auth.getUser().then(s=>{let{data:n}=s;n.user?(o(n.user),t(!1)):e.replace("/auth")})},[e]);let m=async()=>{await i.O.auth.signOut(),e.replace("/auth")};return s?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):(0,n.jsx)(l.Z,{currentPage:"settings",children:(0,n.jsxs)("div",{className:"p-4 max-w-2xl mx-auto",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)(c,{})}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Account"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between py-3 border-b",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-900",children:"Clear saved accounts"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Remove all remembered accounts from login"})]}),(0,n.jsx)("button",{onClick:()=>{confirm("This will remove all saved accounts from the login screen. Continue?")&&(x.r.clearAll(),alert("Saved accounts cleared successfully."))},className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-900",children:"Sign out"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Sign out of your account"})]}),(0,n.jsx)("button",{onClick:m,className:"px-4 py-2 text-sm bg-red-100 text-red-700 rounded-lg hover:bg-red-200",children:"Sign Out"})]})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"About"}),(0,n.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"App:"})," SitterApp"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Version:"})," 1.0.0"]})]})]})]})})}},5703:function(e,s,t){"use strict";t.d(s,{r:function(){return a}});let n="sitter_remembered_users",a={getUsers(){try{let e=localStorage.getItem(n);return e?JSON.parse(e):[]}catch(e){return[]}},addUser(e){try{let s=this.getUsers().filter(s=>s.id!==e.id),t=[{...e,lastLoginAt:new Date().toISOString()},...s].slice(0,5);localStorage.setItem(n,JSON.stringify(t))}catch(e){console.error("Error saving remembered user:",e)}},removeUser(e){try{let s=this.getUsers().filter(s=>s.id!==e);localStorage.setItem(n,JSON.stringify(s))}catch(e){console.error("Error removing remembered user:",e)}},clearAll(){try{localStorage.removeItem(n)}catch(e){console.error("Error clearing remembered users:",e)}}}}},function(e){e.O(0,[256,506,634,521,971,117,744],function(){return e(e.s=7472)}),_N_E=e.O()}]);