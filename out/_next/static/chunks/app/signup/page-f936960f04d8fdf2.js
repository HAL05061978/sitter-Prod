(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{3479:function(e,t,s){Promise.resolve().then(s.bind(s,4665))},4665:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(7437),o=s(2265),a=s(9376),n=s(1545),i=s(3837);let l=(0,n.eI)("https://hilkelodfneancwwzvoh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhpbGtlbG9kZm5lYW5jd3d6dm9oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxNjk2OTEsImV4cCI6MjA3NDc0NTY5MX0.MoVQTvTpYcus2xpIZayAXxsCRgNgV8CoP69ZPd6locw");function d(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)().get("invite"),[s,n]=(0,o.useState)(1),[d,c]=(0,o.useState)(""),[u,m]=(0,o.useState)(""),[x,h]=(0,o.useState)(""),[g,b]=(0,o.useState)(""),[f,p]=(0,o.useState)(""),[y,j]=(0,o.useState)(""),[v,N]=(0,o.useState)(""),[w,k]=(0,o.useState)(""),[C,S]=(0,o.useState)(""),[P,I]=(0,o.useState)(""),[A,_]=(0,o.useState)(""),[F,G]=(0,o.useState)(""),[E,R]=(0,o.useState)(""),[U,q]=(0,o.useState)(""),[D,Z]=(0,o.useState)([]),[z,O]=(0,o.useState)([]),[B,J]=(0,o.useState)(!1),[T,Y]=(0,o.useState)(""),[V,L]=(0,o.useState)(null);(0,o.useEffect)(()=>{t&&M(t)},[t]);let M=async e=>{try{var t,s,r,o;let{data:a,error:n}=await l.from("group_invites").select("\n          id,\n          group_id,\n          email,\n          groups!inner(name),\n          profiles!group_invites_invited_by_fkey(full_name)\n        ").eq("id",e).eq("status","pending").single();if(n){console.error("Error loading invite:",n);return}L({groupName:Array.isArray(a.groups)?null===(t=a.groups[0])||void 0===t?void 0:t.name:null===(s=a.groups)||void 0===s?void 0:s.name,senderName:Array.isArray(a.profiles)?null===(r=a.profiles[0])||void 0===r?void 0:r.full_name:(null===(o=a.profiles)||void 0===o?void 0:o.full_name)||"A parent",customNote:a.custom_note})}catch(e){console.error("Error loading invite info:",e)}},X=(e,t,s)=>{Z(D.map(r=>r.id===e?{...r,[t]:s}:r))},K=e=>{Z(D.filter(t=>t.id!==e))},H=(e,t,s)=>{O(z.map(r=>r.id===e?{...r,[t]:s}:r))},Q=e=>{O(z.filter(t=>t.id!==e))},W=async()=>{if(!d.trim())return Y("Email is required"),!1;if(!u)return Y("Password is required"),!1;if(u.length<6)return Y("Password must be at least 6 characters"),!1;if(u!==x)return Y("Passwords do not match"),!1;J(!0);try{let{data:e,error:t}=await l.from("profiles").select("id, email").eq("email",d.toLowerCase()).single();if(t&&"PGRST116"!==t.code)return Y("Error checking email. Please try again."),!1;if(e)return Y("An account with this email already exists. Please sign in instead."),!1}catch(e){return console.error("Error checking email:",e),Y("Error checking email. Please try again."),!1}finally{J(!1)}return!0},$=()=>g.trim()?!!f.trim()||(Y("Phone number is required"),!1):(Y("Full name is required"),!1),ee=()=>{let e=D.filter(e=>e.name.trim()),t=z.filter(e=>e.name.trim());if(0===e.length&&0===t.length)return Y("Please add at least one child or one pet"),!1;for(let t of e)if(!t.birthdate)return Y("Please enter a birthdate for ".concat(t.name)),!1;for(let e of t)if(!e.species)return Y("Please select a species for ".concat(e.name)),!1;return!0},et=async()=>{Y(""),1===s?await W()&&n(2):2===s&&$()&&n(3)},es=async s=>{if(s&&s.preventDefault(),Y(""),ee()){J(!0);try{let s=D.filter(e=>e.name.trim()),r=z.filter(e=>e.name.trim()),o={full_name:g,email:d.toLowerCase(),phone:f,address:y||null,city:v||null,state:w||null,zip_code:C||null,bio:P||null,emergency_contact:A||null,emergency_contact_phone:F||null,profession:E||null,employer:U||null,role:"parent"},{data:a,error:n}=await l.auth.signUp({email:d.toLowerCase(),password:u,options:{data:{full_name:g,pending_profile:o,pending_children:s,pending_pets:r}}});if(n){Y(n.message),J(!1);return}if(!a.user){Y("Failed to create account"),J(!1);return}t&&console.log("Invite ID stored for processing after confirmation:",t),alert("Account created successfully! Please check your email to confirm your account before signing in."),e.push("/auth?message=Account created successfully. Please check your email to confirm your account.")}catch(e){console.error("Signup error:",e),Y(e.message||"An error occurred during signup")}finally{J(!1)}}};return(0,r.jsxs)("div",{className:"h-screen bg-gray-50 flex flex-col overflow-hidden",children:[(0,r.jsx)("div",{className:"flex-1 overflow-y-auto px-4 pt-8 pb-4",style:{WebkitOverflowScrolling:"touch"},children:(0,r.jsxs)("div",{className:"max-w-lg mx-auto pb-20",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-2",children:V?"Join the Group!":"Create Your Account"}),V&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[(0,r.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,r.jsx)("strong",{children:V.senderName})," has invited you to join"," ",(0,r.jsxs)("strong",{children:['"',V.groupName,'"']})]}),V.customNote&&(0,r.jsxs)("p",{className:"mt-2 text-sm text-blue-700 italic",children:['"',V.customNote,'"']})]}),(0,r.jsxs)("p",{className:"text-center text-sm text-gray-600 mb-6",children:["Already have an account?"," ",(0,r.jsx)("button",{onClick:()=>e.push("/auth"),className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]}),(0,r.jsxs)("div",{className:"bg-white py-8 px-6 shadow rounded-lg",children:[(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"flex justify-between mb-2",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium ".concat(s>=e?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"),children:e}),(0,r.jsx)("span",{className:"text-xs mt-1 text-gray-600",children:1===e?"Account":2===e?"Profile":"Family"})]},e))}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 rounded-full",children:(0,r.jsx)("div",{className:"h-2 bg-indigo-600 rounded-full transition-all duration-300",style:{width:"".concat((s-1)/2*100,"%")}})})]}),{}),(0,r.jsxs)("form",{onSubmit:3===s?es:e=>{e.preventDefault(),et()},children:[1===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address *"}),(0,r.jsx)("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:d,onChange:e=>c(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password *"}),(0,r.jsx)("input",{id:"password",type:"password",autoComplete:"new-password",required:!0,value:u,onChange:e=>m(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 6 characters"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password *"}),(0,r.jsx)("input",{id:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:x,onChange:e=>h(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]})]}),2===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Information"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),(0,r.jsx)("input",{id:"fullName",type:"text",required:!0,value:g,onChange:e=>b(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number *"}),(0,r.jsx)("input",{id:"phone",type:"tel",required:!0,value:f,onChange:e=>p(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street Address"}),(0,r.jsx)("input",{id:"address",type:"text",value:y,onChange:e=>j(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),(0,r.jsx)("input",{id:"city",type:"text",value:v,onChange:e=>N(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700",children:"State"}),(0,r.jsx)("input",{id:"state",type:"text",value:w,onChange:e=>k(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"Zip Code"}),(0,r.jsx)("input",{id:"zipCode",type:"text",value:C,onChange:e=>S(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"profession",className:"block text-sm font-medium text-gray-700",children:"Profession"}),(0,r.jsx)("input",{id:"profession",type:"text",value:E,onChange:e=>R(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"employer",className:"block text-sm font-medium text-gray-700",children:"Employer"}),(0,r.jsx)("input",{id:"employer",type:"text",value:U,onChange:e=>q(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),(0,r.jsx)("textarea",{id:"bio",rows:3,value:P,onChange:e=>I(e.target.value),placeholder:"Tell other parents a bit about yourself...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Emergency Contact"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"emergencyContact",className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),(0,r.jsx)("input",{id:"emergencyContact",type:"text",value:A,onChange:e=>_(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"emergencyContactPhone",className:"block text-sm font-medium text-gray-700",children:"Contact Phone"}),(0,r.jsx)("input",{id:"emergencyContactPhone",type:"tel",value:F,onChange:e=>G(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]})]})]})]}),3===s&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Your Family"}),(0,r.jsx)("div",{className:"p-3 rounded-lg ".concat(D.filter(e=>e.name.trim()).length>0||z.filter(e=>e.name.trim()).length>0?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"),children:(0,r.jsx)("p",{className:"text-sm ".concat(D.filter(e=>e.name.trim()).length>0||z.filter(e=>e.name.trim()).length>0?"text-green-700":"text-yellow-700"),children:D.filter(e=>e.name.trim()).length>0||z.filter(e=>e.name.trim()).length>0?"✓ You have added at least one child or pet.":"⚠ Please add at least one child or one pet to create your account."})}),(0,r.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-gray-900",children:"Children"}),(0,r.jsx)("button",{type:"button",onClick:()=>{Z([...D,{id:(0,i.Z)(),name:"",birthdate:"",schoolName:"",grade:"",town:"",zipCode:""}])},className:"px-3 py-1 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700 font-medium",children:"+ Add Child"})]}),0===D.length?(0,r.jsx)("p",{className:"text-sm text-gray-500 italic text-center py-4",children:'No children added yet. Click "+ Add Child" to add one.'}):(0,r.jsx)("div",{className:"space-y-6",children:D.map((e,t)=>(0,r.jsxs)("div",{className:"border-t pt-4 first:border-t-0 first:pt-0",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Child ",t+1]}),(0,r.jsx)("button",{type:"button",onClick:()=>K(e.id),className:"text-sm text-red-600 hover:text-red-500",children:"Remove"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),(0,r.jsx)("input",{type:"text",value:e.name,onChange:t=>X(e.id,"name",t.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Birthdate *"}),(0,r.jsx)("input",{type:"date",value:e.birthdate,onChange:t=>X(e.id,"birthdate",t.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"School"}),(0,r.jsx)("input",{type:"text",value:e.schoolName,onChange:t=>X(e.id,"schoolName",t.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Grade"}),(0,r.jsxs)("select",{value:e.grade,onChange:t=>X(e.id,"grade",t.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base",children:[(0,r.jsx)("option",{value:"",children:"Select grade"}),(0,r.jsx)("option",{value:"Pre-K",children:"Pre-K"}),(0,r.jsx)("option",{value:"Kindergarten",children:"Kindergarten"}),(0,r.jsx)("option",{value:"1st",children:"1st Grade"}),(0,r.jsx)("option",{value:"2nd",children:"2nd Grade"}),(0,r.jsx)("option",{value:"3rd",children:"3rd Grade"}),(0,r.jsx)("option",{value:"4th",children:"4th Grade"}),(0,r.jsx)("option",{value:"5th",children:"5th Grade"}),(0,r.jsx)("option",{value:"6th",children:"6th Grade"}),(0,r.jsx)("option",{value:"7th",children:"7th Grade"}),(0,r.jsx)("option",{value:"8th",children:"8th Grade"}),(0,r.jsx)("option",{value:"9th",children:"9th Grade"}),(0,r.jsx)("option",{value:"10th",children:"10th Grade"}),(0,r.jsx)("option",{value:"11th",children:"11th Grade"}),(0,r.jsx)("option",{value:"12th",children:"12th Grade"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Town"}),(0,r.jsx)("input",{type:"text",value:e.town,onChange:t=>X(e.id,"town",t.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Zip Code"}),(0,r.jsx)("input",{type:"text",value:e.zipCode,onChange:t=>X(e.id,"zipCode",t.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]})]})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-gray-900",children:"Pets"}),(0,r.jsx)("button",{type:"button",onClick:()=>{O([...z,{id:(0,i.Z)(),name:"",species:"",breed:"",birthdate:"",specialNeeds:"",notes:""}])},className:"px-3 py-1 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700 font-medium",children:"+ Add Pet"})]}),0===z.length?(0,r.jsx)("p",{className:"text-sm text-gray-500 italic text-center py-4",children:'No pets added yet. Click "+ Add Pet" to add one.'}):(0,r.jsx)("div",{className:"space-y-6",children:z.map((e,t)=>(0,r.jsxs)("div",{className:"border-t pt-4 first:border-t-0 first:pt-0",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Pet ",t+1]}),(0,r.jsx)("button",{type:"button",onClick:()=>Q(e.id),className:"text-sm text-red-600 hover:text-red-500",children:"Remove"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),(0,r.jsx)("input",{type:"text",value:e.name,onChange:t=>H(e.id,"name",t.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Species *"}),(0,r.jsxs)("select",{value:e.species,onChange:t=>H(e.id,"species",t.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base",children:[(0,r.jsx)("option",{value:"",children:"Select species"}),(0,r.jsx)("option",{value:"Dog",children:"Dog"}),(0,r.jsx)("option",{value:"Cat",children:"Cat"}),(0,r.jsx)("option",{value:"Bird",children:"Bird"}),(0,r.jsx)("option",{value:"Fish",children:"Fish"}),(0,r.jsx)("option",{value:"Rabbit",children:"Rabbit"}),(0,r.jsx)("option",{value:"Hamster",children:"Hamster"}),(0,r.jsx)("option",{value:"Guinea Pig",children:"Guinea Pig"}),(0,r.jsx)("option",{value:"Reptile",children:"Reptile"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Breed"}),(0,r.jsx)("input",{type:"text",value:e.breed,onChange:t=>H(e.id,"breed",t.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Birthdate"}),(0,r.jsx)("input",{type:"date",value:e.birthdate,onChange:t=>H(e.id,"birthdate",t.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Special Needs"}),(0,r.jsx)("input",{type:"text",value:e.specialNeeds,onChange:t=>H(e.id,"specialNeeds",t.target.value),placeholder:"Allergies, medications, etc.",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,r.jsx)("textarea",{rows:2,value:e.notes,onChange:t=>H(e.id,"notes",t.target.value),placeholder:"Any additional information...",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-base"})]})]})]},e.id))})]})]}),T&&(0,r.jsx)("div",{className:"mt-4 rounded-md bg-red-50 p-4",children:(0,r.jsx)("div",{className:"text-sm text-red-700",children:T})})]})]})]})}),(0,r.jsx)("div",{className:"flex-shrink-0 bg-white border-t border-gray-200 px-4 py-4 safe-area-bottom",children:(0,r.jsxs)("div",{className:"max-w-lg mx-auto flex justify-between",children:[s>1?(0,r.jsx)("button",{type:"button",onClick:()=>{Y(""),n(s-1)},className:"px-4 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Back"}):(0,r.jsx)("div",{}),(0,r.jsx)("button",{type:"button",disabled:B,onClick:3===s?es:et,className:"px-6 py-3 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:B?"Creating Account...":3===s?"Create Account":"Next"})]})})]})}function c(){return(0,r.jsx)(o.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}),children:(0,r.jsx)(d,{})})}},3837:function(e,t,s){"use strict";let r;s.d(t,{Z:function(){return i}});var o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a=new Uint8Array(16),n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));var i=function(e,t,s){if(o.randomUUID&&!t&&!e)return o.randomUUID();let i=(e=e||{}).random??e.rng?.()??function(){if(!r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(a)}();if(i.length<16)throw Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){if((s=s||0)<0||s+16>t.length)throw RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=i[e];return t}return function(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}(i)}}},function(e){e.O(0,[256,971,117,744],function(){return e(e.s=3479)}),_N_E=e.O()}]);