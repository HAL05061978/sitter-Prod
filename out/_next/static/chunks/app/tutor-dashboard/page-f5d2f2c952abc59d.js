(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[690],{7851:function(e,t,s){Promise.resolve().then(s.bind(s,3692))},3692:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(7437),l=s(2265),n=s(9376),i=s(3521),a=s(3519);function d(e){let{tutorId:t}=e,[s,n]=(0,l.useState)([]),[i,d]=(0,l.useState)([]),[o,c]=(0,l.useState)(!1),[u,x]=(0,l.useState)(!1),[m,h]=(0,l.useState)({name:"",description:"",selectedStudentIds:[]});(0,l.useEffect)(()=>{t&&(p(),g())},[t]);let p=async()=>{try{let{data:e,error:s}=await a.O.from("tutoring_groups").select("*").eq("tutor_id",t).order("created_at",{ascending:!1});if(s)throw s;n(e||[])}catch(e){console.error("Error loading groups:",e)}},g=async()=>{try{let{data:e,error:s}=await a.O.from("students").select("\n          *,\n          profiles!students_parent_id_fkey(full_name),\n          children!students_child_id_fkey(full_name)\n        ").eq("tutor_id",t).eq("status","active").order("first_name");if(s)throw s;d(e||[])}catch(e){console.error("Error loading students:",e)}},f=async e=>{if(e.preventDefault(),m.name.trim()&&0!==m.selectedStudentIds.length){x(!0);try{let{data:e,error:r}=await a.O.from("tutoring_groups").insert({tutor_id:t,name:m.name.trim(),description:m.description.trim()||null,student_ids:m.selectedStudentIds}).select().single();if(r)throw r;n([e,...s]),h({name:"",description:"",selectedStudentIds:[]}),c(!1)}catch(e){console.error("Error creating group:",e)}finally{x(!1)}}},v=e=>{h(t=>({...t,selectedStudentIds:t.selectedStudentIds.includes(e)?t.selectedStudentIds.filter(t=>t!==e):[...t.selectedStudentIds,e]}))},b=async e=>{if(confirm("Are you sure you want to delete this group?"))try{let{error:t}=await a.O.from("tutoring_groups").delete().eq("id",e);if(t)throw t;n(s.filter(t=>t.id!==e))}catch(e){console.error("Error deleting group:",e)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Tutoring Groups"}),(0,r.jsx)("button",{onClick:()=>c(!o),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:o?"Cancel":"Create Group"})]}),o&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Group"}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Group Name"}),(0,r.jsx)("input",{type:"text",value:m.name,onChange:e=>h(t=>({...t,name:e.target.value})),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2",placeholder:"Enter group name",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),(0,r.jsx)("textarea",{value:m.description,onChange:e=>h(t=>({...t,description:e.target.value})),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2",placeholder:"Enter group description",rows:3})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Students (",m.selectedStudentIds.length," selected)"]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border border-gray-200 rounded-md p-3",children:i.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:m.selectedStudentIds.includes(e.student_id),onChange:()=>v(e.student_id),className:"rounded border-gray-300 text-blue-600"}),(0,r.jsxs)("span",{className:"text-sm",children:[e.first_name," ",e.last_name]})]},e.student_id))})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:u||!m.name.trim()||0===m.selectedStudentIds.length,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:u?"Creating...":"Create Group"})]})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:0===s.length?(0,r.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No groups created yet."}):s.map(e=>(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),e.description&&(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:e.description}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[e.student_ids.length," student",1!==e.student_ids.length?"s":""]}),(0,r.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:i.filter(t=>e.student_ids.includes(t.student_id)).map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.first_name," ",e.last_name]},e.student_id))})]})]}),(0,r.jsx)("button",{onClick:()=>b(e.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})},e.id))})]})}function o(){let e=(0,n.useRouter)(),[t,s]=(0,l.useState)(null),[o,c]=(0,l.useState)(null),[u,x]=(0,l.useState)("profile"),[m,h]=(0,l.useState)(!0),{loading:p,error:g,getTutorStudents:f,getTutorSessions:v,updateTutorProfile:b,clearError:y}=function(){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(s){let e=setTimeout(()=>r(null),5e3);return()=>clearTimeout(e)}},[s]);let n=(0,l.useCallback)(async e=>{try{t(!0),r(null);let{data:s,error:l}=await a.O.rpc("get_active_tutors");if(l)throw Error(l.message);let n=s||[];return e&&(n=n.filter(t=>(!e.subjects||!(e.subjects.length>0)||!!e.subjects.some(e=>{var s;return null===(s=t.curricular_topics)||void 0===s?void 0:s.includes(e)}))&&(!e.zip_code||t.zip_code===e.zip_code))),n}catch(e){return r(e instanceof Error?e.message:"Failed to fetch tutors"),[]}finally{t(!1)}},[]),i=(0,l.useCallback)(async e=>{try{t(!0),r(null);let{data:s,error:l}=await a.O.rpc("get_tutor_students",{p_tutor_id:e});if(l)throw Error(l.message);return s||[]}catch(e){return r(e instanceof Error?e.message:"Failed to fetch students"),[]}finally{t(!1)}},[]),d=(0,l.useCallback)(async(e,s,l)=>{try{t(!0),r(null);let{data:n,error:i}=await a.O.rpc("get_tutor_sessions",{p_tutor_id:e,p_start_date:(null==s?void 0:s.toISOString().split("T")[0])||null,p_end_date:(null==l?void 0:l.toISOString().split("T")[0])||null});if(i)throw Error(i.message);return n||[]}catch(e){return r(e instanceof Error?e.message:"Failed to fetch sessions"),[]}finally{t(!1)}},[]),o=(0,l.useCallback)(async(e,s,l)=>{try{t(!0),r(null);let{data:n,error:i}=await a.O.rpc("get_parent_tutoring_sessions",{p_parent_id:e,p_start_date:(null==s?void 0:s.toISOString().split("T")[0])||null,p_end_date:(null==l?void 0:l.toISOString().split("T")[0])||null});if(i)throw Error(i.message);return n||[]}catch(e){return r(e instanceof Error?e.message:"Failed to fetch tutoring sessions"),[]}finally{t(!1)}},[]),c=(0,l.useCallback)(async(e,s)=>{try{t(!0),r(null);let{data:l,error:n}=await a.O.rpc("create_tutoring_session",{p_tutor_id:e,p_session_type:s.session_type,p_title:s.title,p_description:s.description||null,p_session_date:s.session_date,p_start_time:s.start_time,p_end_time:s.end_time,p_max_students:s.max_students,p_price_per_student:s.price_per_student||null,p_location:s.location||null,p_notes:s.notes||null});if(n)throw Error(n.message);return l}catch(e){return r(e instanceof Error?e.message:"Failed to create session"),null}finally{t(!1)}},[]),u=(0,l.useCallback)(async(e,s)=>{try{t(!0),r(null);let{error:l}=await a.O.rpc("invite_students_to_session",{p_session_id:e,p_student_ids:s});if(l)throw Error(l.message);return!0}catch(e){return r(e instanceof Error?e.message:"Failed to invite students"),!1}finally{t(!1)}},[]),x=(0,l.useCallback)(async(e,s,l)=>{try{t(!0),r(null);let{error:n}=await a.O.rpc("respond_to_tutoring_invitation",{p_enrollment_id:e,p_response:s,p_notes:l||null});if(n)throw Error(n.message);return!0}catch(e){return r(e instanceof Error?e.message:"Failed to respond to invitation"),!1}finally{t(!1)}},[]),m=(0,l.useCallback)(async(e,s)=>{try{t(!0),r(null);let{data:l,error:n}=await a.O.rpc("send_tutor_group_invitation",{p_tutor_id:e,p_parent_id:s.parent_id,p_child_id:s.child_id,p_message:s.invitation_message||null});if(n)throw Error(n.message);return l}catch(e){return r(e instanceof Error?e.message:"Failed to send invitation"),null}finally{t(!1)}},[]),h=(0,l.useCallback)(async(e,s,l)=>{try{t(!0),r(null);let{error:n}=await a.O.rpc("respond_to_tutor_invitation",{p_invitation_id:e,p_response:s,p_notes:l||null});if(n)throw Error(n.message);return!0}catch(e){return r(e instanceof Error?e.message:"Failed to respond to invitation"),!1}finally{t(!1)}},[]),p=(0,l.useCallback)(async(e,s)=>{try{t(!0),r(null);let{error:l}=await a.O.from("profiles").update({school:s.school||null,zip_code:s.zip_code||null,is_active:s.is_active,services_description:s.services_description||null,curricular_topic_ids:s.curricular_topic_ids||null}).eq("id",e);if(l)throw Error(l.message);return!0}catch(e){return r(e instanceof Error?e.message:"Failed to update profile"),!1}finally{t(!1)}},[]);return{loading:e,error:s,getActiveTutors:n,getTutorStudents:i,getTutorSessions:d,getParentTutoringSessions:o,createTutoringSession:c,inviteStudentsToSession:u,respondToTutoringInvitation:x,sendTutorGroupInvitation:m,respondToTutorInvitation:h,updateTutorProfile:p,createTutorService:(0,l.useCallback)(async(e,s)=>{try{t(!0),r(null);let{data:l,error:n}=await a.O.from("tutor_services").insert({tutor_id:e,service_name:s.service_name,service_description:s.service_description||null,subjects:s.subjects,grade_levels:s.grade_levels||null,session_types:s.session_types,pricing_model:s.pricing_model,base_price:s.base_price||null,group_discount_percentage:s.group_discount_percentage,max_group_size:s.max_group_size}).select("id").single();if(n)throw Error(n.message);return(null==l?void 0:l.id)||null}catch(e){return r(e instanceof Error?e.message:"Failed to create service"),null}finally{t(!1)}},[]),getPendingTutorInvitations:(0,l.useCallback)(async e=>{try{t(!0),r(null);let{data:s,error:l}=await a.O.from("tutor_group_invitations").select("\n          *,\n          profiles!tutor_group_invitations_tutor_id_fkey(full_name),\n          children!tutor_group_invitations_child_id_fkey(full_name)\n        ").eq("parent_id",e).eq("status","pending").order("created_at",{ascending:!1});if(l)throw Error(l.message);return(null==s?void 0:s.map(e=>{var t,s;return{...e,tutor_name:null===(t=e.profiles)||void 0===t?void 0:t.full_name,child_name:null===(s=e.children)||void 0===s?void 0:s.full_name}}))||[]}catch(e){return r(e instanceof Error?e.message:"Failed to fetch invitations"),[]}finally{t(!1)}},[]),getPendingSessionEnrollments:(0,l.useCallback)(async e=>{try{t(!0),r(null);let{data:s,error:l}=await a.O.from("tutoring_session_enrollments").select("\n          *,\n          tutoring_sessions!inner(*),\n          students!inner(*),\n          profiles!tutoring_session_enrollments_parent_id_fkey(full_name)\n        ").eq("tutoring_sessions.tutor_id",e).eq("enrollment_status","pending").order("enrollment_date",{ascending:!1});if(l)throw Error(l.message);return(null==s?void 0:s.map(e=>{var t;return{...e,session:e.tutoring_sessions,student:e.students,parent_name:null===(t=e.profiles)||void 0===t?void 0:t.full_name}}))||[]}catch(e){return r(e instanceof Error?e.message:"Failed to fetch enrollments"),[]}finally{t(!1)}},[]),clearError:()=>r(null)}}(),[_,j]=(0,l.useState)([]),[N,w]=(0,l.useState)([]),[k,S]=(0,l.useState)({totalStudents:0,activeStudents:0,totalSessions:0,upcomingSessions:0});(0,l.useEffect)(()=>{C()},[]),(0,l.useEffect)(()=>{t&&(null==o?void 0:o.role)==="tutor"&&E()},[t,o]);let C=async()=>{try{let{data:{user:t}}=await a.O.auth.getUser();if(!t){e.replace("/auth");return}s(t);let{data:r}=await a.O.from("profiles").select("*").eq("id",t.id).single();if((null==r?void 0:r.role)!=="tutor"){e.replace("/dashboard");return}c(r),h(!1)}catch(t){console.error("Error checking user:",t),e.replace("/auth")}},E=async()=>{if(t)try{let[e,s]=await Promise.all([f(t.id),v(t.id)]);j(e),w(s);let r=e.filter(e=>"active"===e.status).length,l=s.filter(e=>"scheduled"===e.status&&new Date(e.session_date)>=new Date).length;S({totalStudents:e.length,activeStudents:r,totalSessions:s.length,upcomingSessions:l})}catch(e){console.error("Error loading dashboard data:",e)}},O=async e=>{var s;t&&await b(t.id,{school:e.school,zip_code:e.zip_code,is_active:null===(s=e.is_active)||void 0===s||s,services_description:e.services_description})&&(c(t=>t?{...t,...e}:null),E())};return m||p?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,r.jsx)("div",{className:"text-lg",children:"Loading..."})})]}):o&&"tutor"===o.role?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(i.Z,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g&&(0,r.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:g})}),(0,r.jsx)("div",{className:"ml-auto pl-3",children:(0,r.jsx)("button",{onClick:y,className:"text-red-800 hover:text-red-600",children:"Dismiss"})})]})}),(0,r.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[(0,r.jsx)("button",{onClick:()=>x("profile"),className:"px-6 py-3 font-medium transition-colors ".concat("profile"===u?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),children:"Profile"}),(0,r.jsx)("button",{onClick:()=>x("groups"),className:"px-6 py-3 font-medium transition-colors ".concat("groups"===u?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),children:"Groups"}),(0,r.jsx)("button",{onClick:()=>x("students"),className:"px-6 py-3 font-medium transition-colors ".concat("students"===u?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),children:"Students"}),(0,r.jsx)("button",{onClick:()=>x("sessions"),className:"px-6 py-3 font-medium transition-colors ".concat("sessions"===u?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),children:"Sessions"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsx)("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Students"}),(0,r.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:k.totalStudents})]})})]})})}),(0,r.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsx)("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-6 w-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Students"}),(0,r.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:k.activeStudents})]})})]})})}),(0,r.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsx)("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-6 w-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Sessions"}),(0,r.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:k.totalSessions})]})})]})})}),(0,r.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsx)("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-6 w-6 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Upcoming"}),(0,r.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:k.upcomingSessions})]})})]})})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:["profile"===u&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Profile Information"}),(0,r.jsx)("button",{onClick:()=>x("profile-edit"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition shadow-soft hover:shadow-medium",children:"Edit Profile"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Name:"})," ",(null==o?void 0:o.full_name)||(0,r.jsx)("span",{className:"text-gray-400",children:"(not set)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",(null==t?void 0:t.email)||(0,r.jsx)("span",{className:"text-gray-400",children:"(not set)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"School/Institution:"})," ",(null==o?void 0:o.school)||(0,r.jsx)("span",{className:"text-gray-400",children:"(not set)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Zip Code:"})," ",(null==o?void 0:o.zip_code)||(0,r.jsx)("span",{className:"text-gray-400",children:"(not set)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Services Description:"})," ",(null==o?void 0:o.services_description)||(0,r.jsx)("span",{className:"text-gray-400",children:"(not set)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Active Status:"})," ",(null==o?void 0:o.is_active)?"Active and accepting students":(0,r.jsx)("span",{className:"text-gray-400",children:"Inactive"})]})]})]}),"profile-edit"===u&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Edit Profile"}),(0,r.jsx)("button",{onClick:()=>x("profile"),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition shadow-soft hover:shadow-medium",children:"Cancel"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),(0,r.jsx)("input",{type:"text",value:(null==o?void 0:o.full_name)||"",disabled:!0,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-100",placeholder:"Name cannot be changed"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email"}),(0,r.jsx)("input",{type:"text",value:(null==t?void 0:t.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-100",placeholder:"Email cannot be changed"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"School/Institution"}),(0,r.jsx)("input",{type:"text",value:(null==o?void 0:o.school)||"",onChange:e=>O({school:e.target.value}),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your school or institution"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Zip Code"}),(0,r.jsx)("input",{type:"text",value:(null==o?void 0:o.zip_code)||"",onChange:e=>O({zip_code:e.target.value}),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your zip code"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Services Description"}),(0,r.jsx)("textarea",{rows:3,value:(null==o?void 0:o.services_description)||"",onChange:e=>O({services_description:e.target.value}),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe your tutoring services"})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:(null==o?void 0:o.is_active)||!1,onChange:e=>O({is_active:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Active and accepting students"})]})}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>x("profile"),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition shadow-soft hover:shadow-medium",children:"Cancel"}),(0,r.jsx)("button",{type:"button",onClick:()=>x("profile"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition shadow-soft hover:shadow-medium",children:"Save Changes"})]})]})]}),"groups"===u&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Tutoring Groups"}),(0,r.jsx)(d,{tutorId:(null==t?void 0:t.id)||""})]}),"students"===u&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"My Students"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(e=>{var t;return(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.parent_name})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.grade_level||"N/A"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(t=e.subjects)||void 0===t?void 0:t.join(", "))||"N/A"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"inactive"===e.status?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"),children:e.status})})]},e.student_id)})})]})})]}),"sessions"===u&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Tutoring Sessions"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Students"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(0,r.jsx)("div",{children:new Date(e.session_date).toLocaleDateString()}),(0,r.jsxs)("div",{className:"text-gray-500",children:[e.start_time," - ",e.end_time]})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("individual"===e.session_type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e.session_type})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.current_students,"/",e.max_students]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("scheduled"===e.status?"bg-green-100 text-green-800":"in_progress"===e.status?"bg-yellow-100 text-yellow-800":"completed"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:e.status})})]},e.session_id))})]})})]})]})]})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,r.jsx)("div",{className:"text-lg",children:"Access denied. Tutor role required."})})]})}}},function(e){e.O(0,[256,506,634,521,971,117,744],function(){return e(e.s=7851)}),_N_E=e.O()}]);